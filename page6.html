<style>:root{--left-side:200px;--right-side:200px;--nav-height:64px;--background-color:#FFD166;--primary-color:#06D6A0;--primary-accent-color:#049F76;--secondary-color:#118AB2;--sub-color:#073B4C;--nav-background:#fff;--article-background:#fff
    }body.svelte-1gr3n62.svelte-1gr3n62{padding:0;margin:0;color:var(--sub-color);background:var(--background-color);font-family:Roboto, "Helvetica Neue", Arial, sans-serif;font-size:18px;display:grid;grid-template:var(--nav-height) auto var(--nav-height)/var(--left-side) calc(100% - var(--left-side) - var(--right-side)) var(--right-side)
    }nav.top.svelte-1gr3n62 .links.svelte-1gr3n62{grid-area:1/2/2/3;display:flex;align-items:center
    }nav.top.svelte-1gr3n62 .links a.svelte-1gr3n62{margin-right:1em
    }a.svelte-1gr3n62.svelte-1gr3n62{color:var(--secondary-color);text-decoration:none
    }a.svelte-1gr3n62.svelte-1gr3n62:hover,a.svelte-1gr3n62.svelte-1gr3n62:active{color:var(--sub-color)
    }footer.svelte-1gr3n62.svelte-1gr3n62{grid-area:3/1/4/4;background:#fff;display:inline-grid;grid-template:100%/var(--left-side) auto var(--right-side)
    }nav.top.svelte-1gr3n62.svelte-1gr3n62{background-color:var(--nav-background);display:inline-grid;grid-template:100%/var(--left-side) auto var(--right-side);grid-area:1/1/2/4
    }main.svelte-1gr3n62.svelte-1gr3n62{grid-area:2/2/3/3;margin-top:1em;display:flex;flex-direction:column
    }@media screen and (max-width: 1340px){:root{--left-side:0px;--right-side:0px
        }body.svelte-1gr3n62.svelte-1gr3n62{background:var(--background-color)
        }nav.top.svelte-1gr3n62 .links.svelte-1gr3n62{justify-content:space-around
        }}
.btn.svelte-7idbpu{display:inline-flex;font-size:18px;color:#fff;background:var(--primary-color);padding:10px;border-radius:8px
    }.btn.svelte-7idbpu:hover{background:var(--primary-accent-color);color:#fff
    }
nav.bottom.svelte-14ldwbd.svelte-14ldwbd{grid-area:1/2/2/3;display:inline-grid;grid-template:1fr / 1fr 1fr 1fr
    }footer nav.svelte-14ldwbd div.svelte-14ldwbd{display:flex;align-items:center
    }footer nav.svelte-14ldwbd .prev.svelte-14ldwbd{grid-area:1/1/2/2;justify-content:flex-start
    }footer nav.svelte-14ldwbd .current.svelte-14ldwbd{grid-area:1/2/2/3;justify-content:center
    }footer nav.svelte-14ldwbd .next.svelte-14ldwbd{grid-area:1/3/2/4;justify-content:flex-end
    }</style><!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="/images/favicon-compressed.webp">
    <link rel="shortcut icon" href="/images/favicon-compressed.webp">
    <link rel="apple-touch-icon" href="/images/favicon-compressed.webp">

    <link rel="stylesheet" href="/shared.css">
    <link rel="stylesheet" href="/prism.css">

    <title>Document</title></head>
<body class="svelte-1gr3n62"><nav class="top svelte-1gr3n62">
            <div class="links svelte-1gr3n62"><a class="nav-link nav-item svelte-1gr3n62" href="/">Home</a>
                <a class="nav-link nav-item svelte-1gr3n62" href="/about/">About</a></div>
        </nav>

    <main class="svelte-1gr3n62"><article><h1><a href="/irrlicht-newton-tutorials/2015-08-26-application-architecture.md">Irrlicht Newton GD tutorial: application architecture</a></h1>

    <time>26 Aug 2015 at 20:50</time>

    <div class="content"><h2 id="basic-terms">Basic terms</h2>
<p>Let‚Äôs talk a bit about our application before we create it. In order to make the development process sequential
and least painful, we need to design the application well. The design of an application or the <strong>application architecture</strong>
is the hardest thing to change on later stages of development. Thus it must be well-thought at the very beginning to
prevent suffering in the future.</p>
<p>Well, there are number of application architecture‚Äô levels:</p>
<LazyImg src="/images/irrlicht-newton-tutorials/japan_feudal_system.webp" />

<p>The highest level defines which modules will the whole application consist of and what functionality will each of those modules have.</p>
<p>The next level is how the modules communicate to each other, how they work together.</p>
<p>The lower level is the structure of each module - what classes, entities, data structures and similar things will the module consist of.</p>
<p>One of the lowest, yet still very important architecture levels is how files are organized.</p>
<p>From the highest architecture layer point of view, I can advice a very simple architecture:</p>
<ul>
<li>a stable, rarely changed <strong>core</strong></li>
<li>a set of <strong>assets</strong> (models, textures, sounds - any content, made by artists and used to be presented to the player)</li>
<li>a bunch of <strong>scripts</strong>, defining all the logic of a game (how character looks like, how the menus are shown and how they react to player‚Äôs actions)</li>
</ul>
<p>The main benefits of such an approach are:</p>
<ol>
<li>scripts and assets may be changed at any time</li>
<li>scripts and assets define what we show to the user and how the application behaves, so we can changes them without the need to re-compile the core</li>
<li>we can modify the core (for example - optimize some features) without changing the application behaviour</li>
</ol>
<p>We can make the core so flexible that we may re-use it in the future projects.</p>
<h2 id="the-tools">The tools</h2>
<p>We will use <strong>Irrlicht</strong> engine because of its simplicity. And it satisfies all our needs - it
does not need much content preparation; it provides GUI; extending it with <strong>IrrKlang</strong> will give
us very simple interface to sound and music playback.</p>
<p><strong>Newton Game Dynamics</strong> engine we will use to simulate physics. It is easy to use and is really powerful -
you would be impressed!</p>
<p>The last, not the least, we will use <strong>Lua</strong> scripting language to write scripts. Lua is a lightweight
programming language and perfectly suits that goal.</p>
<p>One of the most beautiful parts of this tutorial, will be the part on making of <strong>assets</strong>. We will use
<strong>Blender 3D</strong> to create a couple of 3D models.</p>
<p>I also found <strong>CMake</strong> kind of user-friendly. It is not that handy as any of dependency managers for all
those languages, supporting them <em>(<code>npm</code> for JavaScript, <code>go get</code> for Go, <code>RubyGems</code> for Ruby, <code>leiningen</code>
for Clojure and many others)</em>. Yet it makes your project a little more portable, helps to handle your
dependencies, totally eliminates the need of all those <em>How to configure VisualStudio for OGRE</em> tutorials.
Just try it!</p>
<h2 id="conclusion">Conclusion</h2>
<p>Remember all the three rules for our architecture. And keeping them in mind, let‚Äôs get to some coding already!</p>
<p><a href="2015-08-27-first-application">Next chapter</a></p>
</div>
</article><article><h1><a href="/irrlicht-newton-tutorials/2015-08-25-introduction.md">Irrlicht Newton GD tutorial: introduction</a></h1>

    <time>25 Aug 2015 at 17:01</time>

    <div class="content"><h2 id="what-will-you-learn">What will you learn?</h2>
<p>This tutorial covers the development of a game from a very beginning. This includes:</p>
<ul>
<li>planning the <strong>architecture</strong> for a game</li>
<li>developing the <strong>game engine</strong></li>
<li>defining game logic with <strong>scripts</strong></li>
<li>creating <strong>3d models</strong></li>
<li>and <strong>distributing the application</strong></li>
</ul>
<p>And of course, the whole tutorial is built around <strong>Irrlicht</strong> and <strong>Newton Game Dynamics</strong> libraries.</p>
<p>As for <em>{{ new Date() }}</em>, the tutorial covers:</p>
<ul>
<li>an introduction to NewtonGD</li>
<li>creating Irrlicht-powered application</li>
<li>controlling the application logic with Lua scripts</li>
<li>building application with CMake</li>
</ul>
<h2 id="why-writing-everything-from-scratch-why-not-use-unity--unreal-engine--you-name-it">Why writing everything from scratch? Why not use Unity / Unreal Engine / <em>you-name-it</em>?</h2>
<p>There are some well-known and used game engines like <strong>Unreal Engine 4</strong>, <strong>Unity 3D</strong> and others. They all come with enormous amount of learning materials. So why this tutorial might be interesting for you? You might want to know how things work and thus get most flexibility out of your tools. Or even start working on building your own tools.</p>
<h2 id="what-should-i-know-to-proceed">What should I know to proceed?</h2>
<p>I expect you to have at least some experience with these three things:</p>
<ul>
<li>C++</li>
<li>computer graphics</li>
<li>game development</li>
</ul>
<p>The latter - to make sure, you will not call 3d models ‚Äútextures‚Äù or miss the ‚Äúscript‚Äù word‚Äô meaning.</p>
<h2 id="why-these-libraries">Why these libraries?</h2>
<p>Irrlicht is easy to use and contains all the features you will need to build a game - resource management, support for majority of asset formats out-of-the-box, user input (keyboard, mouse and joystick events handling), GUI (Graphical User Interface - buttons, text inputs, etc.).</p>
<p>Irrlicht is easy to use and contains all the features you will need to build a game - resource management, support for majority of
asset formats out-of-the-box, user input <em>(keyboard, mouse and joystick events handling)</em>, GUI
<em>(Graphical User Interface - buttons, text inputs, etc.)</em>.</p>
<p>Newton Game Dynamics is also very easy to use; it is constantly developed; and it is darn powerful!</p>
<p>If you are still interested - please proceed to <a href="2015-08-26-application-architecture">the first chapter</a>.</p>
</div>
</article><article><h1><a href="/tumblr/2015-06-22-about-bower-webcomponents-and-the-all-the-good.md">About Bower, WebComponents and the all the good</a></h1>

    <time>22 Jun 2015 at 12:23</time>

    <div class="excerpt"><LazyImg src="/images/Pg-02-shakespeare-getty.webp" />

<h2 id="bem">BEM</h2>
<p>These days, many web developers use different methodologies to make their web page source look structured and clean. But all those methodologies only work well until you use third-party libraries or involve a new person in your project.</p>
</div>

        <a href="/tumblr/2015-06-22-about-bower-webcomponents-and-the-all-the-good.md" class="btn svelte-7idbpu">Read more</a>
</article><article><h1><a href="/tumblr/2015-05-06-memory-allocation-in-asm.md">Memory allocation in ASM</a></h1>

    <time>06 May 2015 at 10:20</time>

    <div class="excerpt"><p>Currently I am working on a long arithmetic problem at the university. This problem is much more complicated than I described or than a task I shall be describing now, but here&rsquo;s the thing: I needed some part of memory to be allocated from within my function. And I needed this to be done in assembly.</p>
</div>

        <a href="/tumblr/2015-05-06-memory-allocation-in-asm.md" class="btn svelte-7idbpu">Read more</a>
</article><article><h1><a href="/tumblr/2015-04-23-assembly-in-c-programs.md">Assembly in C++ programs</a></h1>

    <time>23 Apr 2015 at 11:18</time>

    <div class="excerpt"><h2 id="foreword">Foreword</h2>
<p>Writing code in assembly language in 2015 seems stupid and meaningless. Yet, it has a few huge benefits:</p>
<ol>
<li>understanding how computers / compilers / programs work</li>
<li>hardcore optimizations for performance-critical applications</li>
<li>just for fun!</li>
</ol>
<p>Well, in real life, I‚Äôve never met conditions of such performance requirements when I should be writing some parts of application in ASM. Except, maybe, a handful of ACM ICPC problems.</p>
<p>Those are two merely big benefits to write in assembly. Thus, if you are not getting fun out of coding, you may not be interested in this blog.</p>
<p>This blog is mostly for academical purposes. People who study something like <em>low-level programming</em> at the university may be interested.</p>
</div>

        <a href="/tumblr/2015-04-23-assembly-in-c-programs.md" class="btn svelte-7idbpu">Read more</a>
</article><article><h1><a href="/tumblr/2015-04-06-shootthem.md">ShootThem!</a></h1>

    <time>06 Apr 2015 at 17:12</time>

    <div class="content"><p>A few days ago I‚Äôve found my old game, <em>ShootThem!</em> sources.</p>
<p>Half of hour being trying to run it, and viola!</p>
<p>I have hosted sources with all the dependencies <a href="https://github.com/shybovycha/shoot-them">on GitHub</a>.</p>
<p>One has no story (in-game, but has one written before the game presentation on a programming competition for students in Dnepropetrovsk). It has <em>(almost)</em> no colors. No code structure or architecture. No animations.¬†</p>
<p>It is really plain.</p>
<p>Yet, it was and still it <strong>is</strong> a starting point for me üòÅ</p>
<p>Here are some of game screenshots:</p>
<LazyImg src="/images/tumblr/shootthem/tumblr_inline_nmea8sxPPW1qh5oee_640.png" />
<LazyImg src="/images/tumblr/shootthem/tumblr_inline_nmea966kmi1qh5oee_640.png" />
<LazyImg src="/images/tumblr/shootthem/tumblr_inline_nmea9pD5Nj1qh5oee_640.png" />
<LazyImg src="/images/tumblr/shootthem/tumblr_inline_nmeaa4oVAD1qh5oee_640.png" />
<LazyImg src="/images/tumblr/shootthem/tumblr_inline_nmeaaiOKq51qh5oee_640.png" />
</div>
</article><article><h1><a href="/tumblr/2015-03-29-running-qt-mysql-application.html">Running Qt + MySQL application</a></h1>

    <time>29 Mar 2015 at 08:47</time>

    <div class="content"><p>Yesterday I tried to run my university project made with Qt and MySQL. But all I got was strange error message, saying <code>QMYSQL driver is not loaded</code> whilst loaded driver list actually included that one.</p>

<p>Searching all over the internet up &lsquo;til 2 AM and recompiling the whole Qt gave no result except time being wasted. Yeah, and 90% of search results were tutorials on how to recompile Qt MySQL plugin under Windows.</p>

<p>Yet in the morning I found solution and it was beautifully simple! I just performed one step from <a href="http://doc.qt.io/qt-5/deployment.html">Deploying Qt applications</a>, actually just copied the <code>plugins/</code> directory to the dir where the application executable lives (<code>build-debug/</code> or <code>build-release/</code> for my project; I hate the default <code>build-#{ProjectName}-Desktop_5_4_1-Debug/</code> paths); included the <code>sqldrivers/</code> directory there (just copied) and created (a bit tuned although) the <code>qt.conf</code> file. That file just pointed the plugins path to the custom one:</p>

<pre><code>[Paths]
Prefix=.
Plugins=./plugins
</code></pre>

<p>To sum everything up:</p>

<ol><li>create a <code>plugins/</code> directory in your build directory</li>
<li>copy <code>Qt/5.4/Src/qtbase/plugins/platforms/</code> there</li>
<li>copy <code>Qt/5.4/gcc_64/plugins/sqldrivers/</code> there too</li>
<li>create <code>qt.conf</code> file in build directory and fill it as mentioned above</li>
</ol><p>And one more hint before the end: to debug why your Qt plugins fail use this application startup switch: <code>QT_DEBUG_PLUGINS=1 ./app_name</code> - this will display plugins debug information.</p>
</div>
</article><article><h1><a href="/tumblr/2015-03-27-tinyjavacode-this-one-was-super-easy-so-i-did-a.md">Tiny java code...</a></h1>

    <time>27 Mar 2015 at 07:10</time>

    <div class="content"><blockquote><p><a href="http://www.reddit.com/r/dailyprogrammer/comments/qlwrc/372012_challenge_19_easy/" rel="noreferrer">This one</a> was super easy so I did a quick comparison of a couple of ways you can do it; the goal is to count all the alphanumeric (a-zA-Z0-9) characters in the text of a Sherlock Holmes book. There‚Äôs probably other ways do do it because there‚Äôs lots of ways to do literally anything, but the fastest one here is stripping out all non-alphanumeric characters (\W).</p></blockquote>

<pre><code class="language-java"><span class="token comment">//*********************************************//</span>
<span class="token comment">//                                             //</span>
<span class="token comment">//        EASY DAILY PROGRAMMING TASK #19      //</span>
<span class="token comment">//        ALPHANUMERIC CHARACTER COUNTING      //</span>
<span class="token comment">//                                             //</span>
<span class="token comment">//*********************************************//</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">count1</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> text<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"[a-zA-Z0-9]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Count 1: "</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">" Time taken: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">count2</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> count1 <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    text <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\w"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Count 2: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>count1 <span class="token operator">-</span> text<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" Time taken: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">count3</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    text <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\W"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Count 3: "</span> <span class="token operator">+</span> text<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" Time taken: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code>Countiung all alphanumeric characters in Sherlock.txt:
Count 1: 432188 Time taken: 269
Count 2: 432188 Time taken: 53
Count 3: 432188 Time taken: 22
</code></pre>
<p><a href="http://tinyjavacode.tumblr.com/post/114715031583/this-one-was-super-easy-so-i-did-a-quick" class="tumblr_blog">tinyjavacode</a>:</p>
</div>
</article><article><h1><a href="/tumblr/2015-03-25-the-new-hardcore.md">The new hardcore</a></h1>

    <time>25 Mar 2015 at 18:07</time>

    <div class="content"><LazyImg src="/tumblr_files/tumblr_nls50x91hr1qio88bo1_1280.png"/>

<p>Trying some new hardcore - Assembly in Emacs üòÅ</p>
</div>
</article><article><h1><a href="/tumblr/2015-03-24-decorator-pattern-in-python.md">Decorator pattern in Python</a></h1>

    <time>24 Mar 2015 at 09:41</time>

    <div class="content"><p>Just found some interesting way of implementing Decorator design pattern in Python.</p>

<p>As <strong>Jason Smith</strong> said in his book (<strong>Elemental Design Patterns</strong>), <em>‚Äúdesign patterns may be implemened in different ways in different programming languages‚Äù</em>.</p>

<p>That‚Äôs said, design patterns are not some set of classes which will be implemented in a very similar way in different languages - they are just a way of doing something.</p>

<p>Thus, Decorator pattern is a way of wrapping some method‚Äôs or class‚Äô behaviour. In Python it may be done with <strong>Context Managers:</strong></p>

<pre><code class="language-python"><span class="token keyword">from</span> contextlib <span class="token keyword">import</span> contextmanager

<span class="token decorator annotation punctuation">@contextmanager</span>
<span class="token keyword">def</span> <span class="token function">tag</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">"&lt;%s>"</span> <span class="token operator">%</span> name<span class="token punctuation">,</span>
    <span class="token keyword">yield</span>
    <span class="token keyword">print</span> <span class="token string">"&lt;/%s>"</span> <span class="token operator">%</span> name<span class="token punctuation">,</span>

<span class="token keyword">with</span> tag<span class="token punctuation">(</span><span class="token string">"h1"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">"moo"</span><span class="token punctuation">,</span>

<span class="token keyword">print</span>

<span class="token keyword">with</span> tag<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">"foo"</span><span class="token punctuation">,</span>
</code></pre>
<p>This code will end up wrapping <code>print "foo"</code> and <code>print "moo"</code> methods with printing some HTML tags around &lsquo;em:</p>

<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>moo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>foo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
<p>That is interesting as it implements Decorator design pattern in a bit hard-coded way, but using language features, not OOP ones.</p>

<p>Compare it to the <em>"standard"</em> OOP implementation in Python:</p>

<pre><code class="language-python"><span class="token comment"># -*-coding:utf-8 -*-</span>
<span class="token keyword">class</span> <span class="token class-name">SimpleText</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>text <span class="token operator">=</span> text

    <span class="token keyword">def</span> <span class="token function">content</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>text

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>content<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">TagDecorator</span><span class="token punctuation">(</span>SimpleText<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> tag<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>TagDecorator<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tag <span class="token operator">=</span> tag

    <span class="token keyword">def</span> <span class="token function">content</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;{0}>{1}&lt;/{0}>'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>tag<span class="token punctuation">,</span> <span class="token builtin">super</span><span class="token punctuation">(</span>TagDecorator<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

a <span class="token operator">=</span> SimpleText<span class="token punctuation">(</span><span class="token string">'moo'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'SimpleText: %s'</span> <span class="token operator">%</span> a<span class="token punctuation">)</span>

b <span class="token operator">=</span> TagDecorator<span class="token punctuation">(</span><span class="token string">'moo'</span><span class="token punctuation">,</span> <span class="token string">'h1'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'TagDecorator (h1): %s'</span> <span class="token operator">%</span> b<span class="token punctuation">)</span>
</code></pre>
<p>This one looks a bit&hellip; ugly&hellip; right? And though Python does not really care of which type are <code>a</code> and <code>b</code>, we may not need all this class hierarchy.</p>

<p>This is the might of <strong>context managers</strong>!</p>
</div>
</article></main>

    <footer class="svelte-1gr3n62"><nav class="bottom svelte-14ldwbd"><div class="prev svelte-14ldwbd"><a href="/page5.html" class="prev svelte-14ldwbd">‚Üê Previous page</a></div>

    <div class="current svelte-14ldwbd">Page #6 of 9</div>

    <div class="next svelte-14ldwbd"><a href="/page7.html" class="next svelte-14ldwbd">Next page ‚Üí</a></div>
</nav></footer>

    <script src="/lazyLoadImages.js"></script></body>
</html>